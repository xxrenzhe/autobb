# ä¸€é”®ä¸Šå¹¿å‘Šæµç¨‹è®¾è®¡

**æ–‡æ¡£ç‰ˆæœ¬**: v1.0
**åˆ›å»ºæ—¥æœŸ**: 2025-01-18
**è®¾è®¡åŸåˆ™**: è‡ªåŠ¨åŒ–ä¼˜å…ˆ + æ•°æ®é©±åŠ¨

---

## ğŸ“‹ åŠŸèƒ½æ¦‚è¿°

### æ ¸å¿ƒç†å¿µ

**å°†å·²åˆ›å»ºçš„Offerè‡ªåŠ¨è½¬åŒ–ä¸ºGoogle Adsä¸Šçš„çœŸå®Campaign**

ç”¨æˆ·åªéœ€ç‚¹å‡»ä¸€ä¸ªæŒ‰é’®ï¼Œç³»ç»Ÿè‡ªåŠ¨å®Œæˆï¼š
- âœ… AIæŠ“å–äº§å“ä¿¡æ¯ï¼ˆä»shop_urlï¼‰
- âœ… AIç”Ÿæˆ10-15ä¸ªå…³é”®è¯
- âœ… AIç”Ÿæˆå¹¿å‘Šåˆ›æ„ï¼ˆ15æ¡Headlines + 4æ¡Descriptionsï¼‰
- âœ… æ™ºèƒ½è®¾ç½®é¢„ç®—å’Œå‡ºä»·
- âœ… è°ƒç”¨Google Ads APIåˆ›å»ºCampaignã€AdGroupã€Adsã€Keywords
- âœ… è‡ªåŠ¨å…³è”Assetsï¼ˆCalloutsã€Sitelinksã€Business Nameï¼‰

### ä¸šåŠ¡ä»·å€¼

| ä¼ ç»Ÿæ–¹å¼ | ä¸€é”®ä¸Šå¹¿å‘Š | èŠ‚çœæ—¶é—´ |
|---------|-----------|---------|
| æ‰‹åŠ¨ç ”ç©¶äº§å“ï¼ˆ15åˆ†é’Ÿï¼‰ | AIè‡ªåŠ¨æŠ“å–ï¼ˆ10ç§’ï¼‰ | â†“ 95% |
| æ‰‹åŠ¨ç ”ç©¶å…³é”®è¯ï¼ˆ30åˆ†é’Ÿï¼‰ | AIç”Ÿæˆ+éªŒè¯ï¼ˆ20ç§’ï¼‰ | â†“ 97% |
| æ‰‹åŠ¨æ’°å†™å¹¿å‘Šæ–‡æ¡ˆï¼ˆ20åˆ†é’Ÿï¼‰ | AIç”Ÿæˆåˆ›æ„ï¼ˆ15ç§’ï¼‰ | â†“ 98% |
| æ‰‹åŠ¨åˆ›å»ºCampaignï¼ˆ15åˆ†é’Ÿï¼‰ | APIè‡ªåŠ¨åˆ›å»ºï¼ˆ5ç§’ï¼‰ | â†“ 97% |
| **æ€»è®¡: 80åˆ†é’Ÿ** | **æ€»è®¡: 50ç§’** | **â†“ 99%** |

---

## ä¸€ã€å®Œæ•´æµç¨‹æ¦‚è§ˆ

### 1.1 10æ­¥éª¤æµç¨‹

```
ç”¨æˆ·é€‰æ‹©ä¸€ä¸ªæˆ–å¤šä¸ªOffer â†’ ç‚¹å‡»"ä¸€é”®ä¸Šå¹¿å‘Š"
  â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Step 1: éªŒè¯å‰ç½®æ¡ä»¶                                         â”‚
â”‚ â€¢ æ£€æŸ¥OfferçŠ¶æ€ï¼ˆå¿…é¡»ä¸ºnot_launchedï¼‰                       â”‚
â”‚ â€¢ æ£€æŸ¥Google Adsè´¦å·æˆæƒ                                     â”‚
â”‚ â€¢ æ£€æŸ¥shop_urlæœ‰æ•ˆæ€§                                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
  â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Step 2: AIæŠ“å–äº§å“ä¿¡æ¯                                       â”‚
â”‚ â€¢ é…ç½®ä»£ç†è®¿é—®shop_url                                       â”‚
â”‚ â€¢ Playwrightæ¸²æŸ“é¡µé¢                                         â”‚
â”‚ â€¢ AIæå–ï¼šproduct_name, product_description, category       â”‚
â”‚ â€¢ æ›´æ–°Offerè¡¨å­—æ®µ                                            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
  â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Step 3: AIç”Ÿæˆå…³é”®è¯                                         â”‚
â”‚ â€¢ AIåŸºäºäº§å“ä¿¡æ¯ç”Ÿæˆ10-15ä¸ªå…³é”®è¯                           â”‚
â”‚ â€¢ è°ƒç”¨Google Ads Keyword Planner APIéªŒè¯æœç´¢é‡             â”‚
â”‚ â€¢ è¿‡æ»¤ä½æœç´¢é‡å…³é”®è¯ï¼ˆ< 100/æœˆï¼‰                            â”‚
â”‚ â€¢ æ™ºèƒ½åˆ†é…åŒ¹é…ç±»å‹ï¼ˆEXACT/PHRASE/BROADï¼‰                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
  â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Step 4: è‡ªåŠ¨è®¾ç½®é¢„ç®—å’Œå‡ºä»·                                   â”‚
â”‚ â€¢ è·å–å…³é”®è¯å»ºè®®CPCèŒƒå›´                                      â”‚
â”‚ â€¢ è®¡ç®—å¹³å‡å»ºè®®CPC                                            â”‚
â”‚ â€¢ è®¾ç½®target_cpc = å¹³å‡å»ºè®®CPC                              â”‚
â”‚ â€¢ è®¾ç½®budget_daily = target_cpc Ã— 30æ¬¡ç‚¹å‡»                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
  â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Step 5: AIç”Ÿæˆå¹¿å‘Šåˆ›æ„                                       â”‚
â”‚ â€¢ ç”Ÿæˆ15æ¡Headlinesï¼ˆåŸºäºäº§å“åç§°ã€å“ç‰Œã€å–ç‚¹ï¼‰             â”‚
â”‚ â€¢ ç”Ÿæˆ4æ¡Descriptionsï¼ˆåŸºäºäº§å“æè¿°ã€ç‰¹æ€§ï¼‰                 â”‚
â”‚ â€¢ ç”Ÿæˆ3-4æ¡Calloutsï¼ˆå…³é”®ç‰¹æ€§ï¼‰                             â”‚
â”‚ â€¢ ç”Ÿæˆ3-4æ¡Sitelinksï¼ˆäº§å“ç±»åˆ«é¡µé¢ï¼‰                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
  â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Step 6: åˆ›å»ºCampaign Budget                                 â”‚
â”‚ â€¢ è°ƒç”¨CampaignBudgetService.create()                        â”‚
â”‚ â€¢ amount_micros = budget_daily Ã— 1,000,000                  â”‚
â”‚ â€¢ delivery_method = "STANDARD"                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
  â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Step 7: åˆ›å»ºCampaign                                         â”‚
â”‚ â€¢ è°ƒç”¨CampaignService.create()                              â”‚
â”‚ â€¢ name = offer_name + " Campaign"                           â”‚
â”‚ â€¢ campaign_budget = Step 6çš„Budget ResourceName            â”‚
â”‚ â€¢ advertising_channel_type = "SEARCH"                       â”‚
â”‚ â€¢ bidding_strategy = MaximizeConversions                    â”‚
â”‚ â€¢ geo_target = target_countryå¯¹åº”çš„location_id             â”‚
â”‚ â€¢ language = target_languageå¯¹åº”çš„language_id              â”‚
â”‚ â€¢ status = "PAUSED"ï¼ˆåˆå§‹æš‚åœï¼Œç­‰å¾…ç”¨æˆ·ç¡®è®¤ï¼‰               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
  â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Step 8: åˆ›å»ºAdGroup                                          â”‚
â”‚ â€¢ è°ƒç”¨AdGroupService.create()                               â”‚
â”‚ â€¢ name = offer_name + " AdGroup"                            â”‚
â”‚ â€¢ campaign = Step 7çš„Campaign ResourceName                 â”‚
â”‚ â€¢ status = "ENABLED"                                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
  â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Step 9: åˆ›å»ºRSA Ad + Keywords + Assets                      â”‚
â”‚ â€¢ è°ƒç”¨AdGroupAdService.create()ï¼ˆåˆ›å»ºRSAï¼‰                  â”‚
â”‚   - 15æ¡Headlines                                           â”‚
â”‚   - 4æ¡Descriptions                                         â”‚
â”‚   - final_urls = [affiliate_link]                          â”‚
â”‚ â€¢ è°ƒç”¨AdGroupCriterionService.create()ï¼ˆæ·»åŠ å…³é”®è¯ï¼‰        â”‚
â”‚   - é€ä¸ªæ·»åŠ å…³é”®è¯ï¼Œè®¾ç½®match_typeå’Œcpc_bid_micros         â”‚
â”‚ â€¢ åˆ›å»ºAssetså¹¶å…³è”åˆ°Campaign                                â”‚
â”‚   - Business Name Asset                                     â”‚
â”‚   - Callout Assets                                          â”‚
â”‚   - Sitelink Assets                                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
  â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Step 10: æ›´æ–°OfferçŠ¶æ€å¹¶è¿”å›ç»“æœ                             â”‚
â”‚ â€¢ æ›´æ–°Offer.ad_status = 'active'ï¼ˆæˆ–'paused'å¦‚æœåˆå§‹æš‚åœï¼‰  â”‚
â”‚ â€¢ ä¿å­˜google_campaign_idåˆ°æ•°æ®åº“                            â”‚
â”‚ â€¢ è¿”å›åˆ›å»ºç»“æœç»™å‰ç«¯                                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
  â†“
å‰ç«¯æ˜¾ç¤ºåˆ›å»ºç»“æœé¡µé¢
```

---

## äºŒã€Step 2: AIæŠ“å–äº§å“ä¿¡æ¯

### 2.1 æŠ“å–æµç¨‹

**APIç«¯ç‚¹**: `POST /api/offers/scrape-product-info`

**Request Body**:
```json
{
  "offer_id": 1,
  "shop_url": "https://www.amazon.com/stores/page/201E3A4F-C63F-48A6-87B7-524F985330DA",
  "target_country": "US",
  "target_language": "English"
}
```

**æŠ€æœ¯å®ç°**:
```typescript
import { chromium } from 'playwright';

async function scrapeProductInfo(
  shopUrl: string,
  targetCountry: string,
  targetLanguage: string
): Promise<ProductInfo> {

  // 1. é…ç½®ä»£ç†ï¼ˆæ ¹æ®ç›®æ ‡å›½å®¶é€‰æ‹©ä»£ç†æœåŠ¡å™¨ï¼‰
  const proxy = getProxyForCountry(targetCountry);

  // 2. å¯åŠ¨Playwrightæµè§ˆå™¨
  const browser = await chromium.launch({
    proxy: {
      server: proxy.server,
      username: proxy.username,
      password: proxy.password
    },
    headless: true
  });

  const context = await browser.newContext({
    userAgent: 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36',
    locale: getLocaleCode(targetCountry), // 'en-US', 'de-DE', etc.
    geolocation: getGeolocation(targetCountry),
    permissions: []
  });

  const page = await context.newPage();

  try {
    // 3. è®¿é—®shop_url
    await page.goto(shopUrl, {
      waitUntil: 'networkidle',
      timeout: 30000
    });

    // 4. ç­‰å¾…é¡µé¢åŠ è½½å…³é”®å…ƒç´ 
    await page.waitForSelector('body', { timeout: 10000 });

    // 5. æå–é¡µé¢HTML
    const html = await page.content();

    // 6. æˆªå›¾ï¼ˆç”¨äºè°ƒè¯•ï¼‰
    const screenshot = await page.screenshot({
      fullPage: false,
      type: 'png'
    });

    // 7. ä½¿ç”¨AIæå–äº§å“ä¿¡æ¯
    const productInfo = await extractProductInfoWithAI(html, targetLanguage);

    return productInfo;

  } finally {
    await browser.close();
  }
}

// AIæå–äº§å“ä¿¡æ¯
async function extractProductInfoWithAI(
  html: string,
  targetLanguage: string
): Promise<ProductInfo> {

  const prompt = `
Extract product information from the following HTML content.
Target Language: ${targetLanguage}

HTML Content:
${html.substring(0, 50000)} // é™åˆ¶é•¿åº¦é¿å…tokenè¶…é™

Please extract and return ONLY a JSON object with the following fields:
{
  "product_name": "The main product name (max 100 characters)",
  "product_description": "A comprehensive product description (100-300 characters)",
  "category": "Product category path (e.g., 'Electronics > Security Cameras')",
  "key_features": ["Feature 1", "Feature 2", "Feature 3"],
  "selling_points": ["Point 1", "Point 2", "Point 3"]
}

Rules:
1. If multiple products are shown, extract information for the main/featured product
2. Focus on factual product information, not marketing fluff
3. Use ${targetLanguage} language for all extracted content
4. Keep product_name concise and descriptive
5. Return ONLY valid JSON, no additional text

JSON:
  `;

  const response = await callOpenAI(prompt, {
    model: 'gpt-4o',
    temperature: 0.3,
    max_tokens: 1000
  });

  // è§£æJSON
  const productInfo = JSON.parse(response);

  // éªŒè¯å¿…å¡«å­—æ®µ
  if (!productInfo.product_name || !productInfo.product_description) {
    throw new Error('AI failed to extract required product information');
  }

  return productInfo;
}
```

**Response (Success)**:
```json
{
  "success": true,
  "data": {
    "product_name": "Reolink 8CH 5MP PoE Security Camera System",
    "product_description": "Complete home security solution with 4 weatherproof cameras, 2TB NVR, night vision, and mobile app access for 24/7 monitoring",
    "category": "Electronics > Security & Surveillance > Security Camera Systems",
    "key_features": [
      "5MP Super HD Resolution",
      "PoE Power & Connectivity",
      "2TB Hard Drive Included",
      "100ft Night Vision",
      "AI Motion Detection"
    ],
    "selling_points": [
      "Easy plug-and-play installation",
      "24/7 continuous recording",
      "Free mobile app remote viewing",
      "Weatherproof outdoor cameras"
    ]
  }
}
```

**é”™è¯¯å¤„ç†**:
```typescript
// æŠ“å–å¤±è´¥çš„é™çº§æ–¹æ¡ˆ
if (scrapeError) {
  // æ–¹æ¡ˆ1: ä½¿ç”¨å“ç‰Œåç§°ä½œä¸ºäº§å“åç§°
  product_name = offer.brand_name + " Product";
  product_description = "è¯·åœ¨Google Adsåå°æ‰‹åŠ¨è¡¥å……äº§å“æè¿°";

  // æ–¹æ¡ˆ2: å…è®¸ç”¨æˆ·æ‰‹åŠ¨è¾“å…¥
  return {
    success: false,
    error: 'äº§å“ä¿¡æ¯æŠ“å–å¤±è´¥',
    fallback_needed: true,
    message: 'è¯·æ‰‹åŠ¨è¾“å…¥äº§å“ä¿¡æ¯ä»¥ç»§ç»­åˆ›å»ºå¹¿å‘Š'
  };
}
```

---

## ä¸‰ã€Step 3: AIç”Ÿæˆå…³é”®è¯

### 3.1 å…³é”®è¯ç”Ÿæˆæµç¨‹

```typescript
async function generateKeywords(
  productName: string,
  productDescription: string,
  brandName: string,
  category: string,
  targetCountry: string
): Promise<KeywordWithMetrics[]> {

  // 1. AIç”Ÿæˆå€™é€‰å…³é”®è¯
  const candidateKeywords = await generateCandidateKeywords(
    productName,
    productDescription,
    brandName,
    category,
    targetCountry
  );

  // 2. è°ƒç”¨Google Ads Keyword Planner APIéªŒè¯
  const keywordMetrics = await getKeywordMetrics(
    candidateKeywords,
    targetCountry
  );

  // 3. è¿‡æ»¤å’Œæ’åº
  const validKeywords = keywordMetrics
    .filter(kw => kw.avg_monthly_searches >= 100) // æœˆæœç´¢é‡ â‰¥ 100
    .sort((a, b) => b.avg_monthly_searches - a.avg_monthly_searches) // æŒ‰æœç´¢é‡é™åº
    .slice(0, 15); // æœ€å¤šå–15ä¸ª

  // 4. æ™ºèƒ½åˆ†é…åŒ¹é…ç±»å‹
  const keywordsWithMatchType = assignMatchTypes(validKeywords, brandName);

  return keywordsWithMatchType;
}

// AIç”Ÿæˆå€™é€‰å…³é”®è¯
async function generateCandidateKeywords(
  productName: string,
  productDescription: string,
  brandName: string,
  category: string,
  targetCountry: string
): Promise<string[]> {

  const prompt = `
Generate 20 high-quality Google Ads keywords for the following product.

Product Information:
- Product Name: ${productName}
- Brand: ${brandName}
- Category: ${category}
- Description: ${productDescription}
- Target Country: ${targetCountry}

Requirements:
1. Include brand keywords (e.g., "reolink security camera")
2. Include product category keywords (e.g., "poe security camera system")
3. Include benefit/feature keywords (e.g., "outdoor camera with night vision")
4. Include long-tail keywords (e.g., "wireless security camera system for home")
5. Focus on commercial intent (buyers, not researchers)
6. Use language appropriate for ${targetCountry}
7. Avoid overly generic keywords

Return ONLY a JSON array of keyword strings:
["keyword 1", "keyword 2", ...]

JSON:
  `;

  const response = await callOpenAI(prompt, {
    model: 'gpt-4o',
    temperature: 0.5,
    max_tokens: 500
  });

  const keywords = JSON.parse(response);
  return keywords;
}

// è°ƒç”¨Google Ads Keyword Planner API
async function getKeywordMetrics(
  keywords: string[],
  targetCountry: string
): Promise<KeywordMetrics[]> {

  const locationId = getLocationIdByCountry(targetCountry); // US: 2840, GE: 2276
  const languageId = getLanguageIdByCountry(targetCountry); // US: 1000 (English)

  const request = {
    keywords: keywords,
    geo_target_constants: [`geoTargetConstants/${locationId}`],
    language: `languageConstants/${languageId}`,
    keyword_plan_network: 'GOOGLE_SEARCH'
  };

  const response = await googleAdsClient.keywordPlanIdeas.generateKeywordIdeas(
    customerId,
    request
  );

  return response.results.map(result => ({
    keyword: result.text,
    avg_monthly_searches: result.keyword_idea_metrics.avg_monthly_searches,
    competition: result.keyword_idea_metrics.competition, // LOW | MEDIUM | HIGH
    low_top_of_page_bid_micros: result.keyword_idea_metrics.low_top_of_page_bid_micros,
    high_top_of_page_bid_micros: result.keyword_idea_metrics.high_top_of_page_bid_micros
  }));
}

// æ™ºèƒ½åˆ†é…åŒ¹é…ç±»å‹
function assignMatchTypes(
  keywords: KeywordWithMetrics[],
  brandName: string
): KeywordWithMatchType[] {

  return keywords.map(kw => {
    // è§„åˆ™1: åŒ…å«å“ç‰Œå â†’ EXACTï¼ˆç²¾ç¡®åŒ¹é…ï¼‰
    if (kw.keyword.toLowerCase().includes(brandName.toLowerCase())) {
      return { ...kw, match_type: 'EXACT' };
    }

    // è§„åˆ™2: 2-3ä¸ªè¯çš„çŸ­è¯­ â†’ PHRASEï¼ˆè¯ç»„åŒ¹é…ï¼‰
    const wordCount = kw.keyword.split(' ').length;
    if (wordCount >= 2 && wordCount <= 3) {
      return { ...kw, match_type: 'PHRASE' };
    }

    // è§„åˆ™3: â‰¥4ä¸ªè¯çš„é•¿å°¾è¯ â†’ BROADï¼ˆå¹¿æ³›åŒ¹é…ï¼‰
    if (wordCount >= 4) {
      return { ...kw, match_type: 'BROAD' };
    }

    // é»˜è®¤: PHRASE
    return { ...kw, match_type: 'PHRASE' };
  });
}
```

**ç¤ºä¾‹è¾“å‡º**:
```json
{
  "keywords": [
    {
      "keyword": "reolink security camera",
      "match_type": "EXACT",
      "avg_monthly_searches": 8100,
      "competition": "MEDIUM",
      "suggested_cpc_micros": 1500000
    },
    {
      "keyword": "poe security camera system",
      "match_type": "PHRASE",
      "avg_monthly_searches": 5400,
      "competition": "HIGH",
      "suggested_cpc_micros": 2100000
    },
    {
      "keyword": "outdoor security camera with night vision",
      "match_type": "BROAD",
      "avg_monthly_searches": 3600,
      "competition": "MEDIUM",
      "suggested_cpc_micros": 1800000
    }
  ]
}
```

---

## å››ã€Step 4: è‡ªåŠ¨è®¾ç½®é¢„ç®—å’Œå‡ºä»·

### 4.1 æ™ºèƒ½é¢„ç®—è®¡ç®—

```typescript
async function calculateBudgetAndCPC(
  keywords: KeywordWithMetrics[]
): Promise<BudgetSettings> {

  // 1. è®¡ç®—å¹³å‡å»ºè®®CPC
  const avgSuggestedCPC = keywords.reduce((sum, kw) => {
    const midCPC = (kw.low_top_of_page_bid_micros + kw.high_top_of_page_bid_micros) / 2;
    return sum + (midCPC / 1_000_000); // è½¬æ¢ä¸ºç¾å…ƒ
  }, 0) / keywords.length;

  // 2. è®¾ç½®ç›®æ ‡CPCï¼ˆå‘ä¸Šå–æ•´åˆ°0.1ç¾å…ƒï¼‰
  const targetCPC = Math.ceil(avgSuggestedCPC * 10) / 10;

  // 3. è®¡ç®—æ¯æ—¥é¢„ç®—ï¼ˆç›®æ ‡CPC Ã— 30æ¬¡ç‚¹å‡»ï¼‰
  const budgetDaily = Math.round(targetCPC * 30);

  // 4. åº”ç”¨é¢„ç®—é™åˆ¶ï¼ˆæœ€ä½$10ï¼Œæœ€é«˜$500ï¼‰
  const finalBudget = Math.max(10, Math.min(500, budgetDaily));

  return {
    budget_daily: finalBudget,
    target_cpc: targetCPC,
    estimated_daily_clicks: Math.floor(finalBudget / targetCPC),
    calculation_basis: {
      keyword_count: keywords.length,
      avg_suggested_cpc: avgSuggestedCPC,
      cpc_range: {
        min: Math.min(...keywords.map(k => k.low_top_of_page_bid_micros / 1_000_000)),
        max: Math.max(...keywords.map(k => k.high_top_of_page_bid_micros / 1_000_000))
      }
    }
  };
}
```

**ç¤ºä¾‹è¾“å‡º**:
```json
{
  "budget_daily": 45,
  "target_cpc": 1.5,
  "estimated_daily_clicks": 30,
  "calculation_basis": {
    "keyword_count": 15,
    "avg_suggested_cpc": 1.47,
    "cpc_range": {
      "min": 0.8,
      "max": 2.3
    }
  }
}
```

---

## äº”ã€Step 5: AIç”Ÿæˆå¹¿å‘Šåˆ›æ„

### 5.1 RSAåˆ›æ„ç”Ÿæˆ

**è¦æ±‚**:
- 15æ¡Headlinesï¼ˆæ¯æ¡ â‰¤ 30å­—ç¬¦ï¼‰
- 4æ¡Descriptionsï¼ˆæ¯æ¡ â‰¤ 90å­—ç¬¦ï¼‰
- åŒ…å«å“ç‰Œåã€äº§å“åã€å…³é”®å–ç‚¹

```typescript
async function generateAdCreatives(
  productName: string,
  productDescription: string,
  brandName: string,
  keyFeatures: string[],
  sellingPoints: string[],
  targetLanguage: string
): Promise<AdCreatives> {

  const prompt = `
Generate Google Ads RSA (Responsive Search Ad) creatives for the following product.

Product Information:
- Product Name: ${productName}
- Brand: ${brandName}
- Description: ${productDescription}
- Key Features: ${keyFeatures.join(', ')}
- Selling Points: ${sellingPoints.join(', ')}
- Language: ${targetLanguage}

Requirements:

1. Generate 15 unique Headlines:
   - Each headline MUST be â‰¤ 30 characters (STRICT LIMIT)
   - At least 3 headlines must include the brand name "${brandName}"
   - At least 5 headlines must focus on product features/benefits
   - At least 3 headlines must include call-to-action (e.g., "Buy Now", "Shop Today")
   - At least 2 headlines must mention price/value (e.g., "Best Price", "Free Shipping")
   - Use ${targetLanguage} language
   - Be compelling and action-oriented

2. Generate 4 unique Descriptions:
   - Each description MUST be â‰¤ 90 characters (STRICT LIMIT)
   - Description 1: Focus on main product benefit
   - Description 2: Focus on key features
   - Description 3: Focus on trust/credibility (e.g., reviews, warranty)
   - Description 4: Focus on call-to-action and urgency
   - Use ${targetLanguage} language

3. Generate 4 Callouts (short phrases):
   - Each callout â‰¤ 25 characters
   - Highlight key features or benefits

4. Generate 4 Sitelinks:
   - Each sitelink has a title (â‰¤ 25 characters) and description (â‰¤ 35 characters)
   - Link to different product categories or pages

Return ONLY a JSON object with this structure:
{
  "headlines": ["headline 1", "headline 2", ...],
  "descriptions": ["description 1", "description 2", ...],
  "callouts": ["callout 1", "callout 2", ...],
  "sitelinks": [
    {"title": "link title", "description": "link description"},
    ...
  ]
}

CRITICAL: Strictly enforce character limits. Any headline > 30 chars or description > 90 chars will cause API errors.

JSON:
  `;

  const response = await callOpenAI(prompt, {
    model: 'gpt-4o',
    temperature: 0.7,
    max_tokens: 2000
  });

  const creatives = JSON.parse(response);

  // éªŒè¯å­—ç¬¦é™åˆ¶
  creatives.headlines = creatives.headlines
    .map(h => h.substring(0, 30))
    .slice(0, 15);

  creatives.descriptions = creatives.descriptions
    .map(d => d.substring(0, 90))
    .slice(0, 4);

  creatives.callouts = creatives.callouts
    .map(c => c.substring(0, 25))
    .slice(0, 4);

  creatives.sitelinks = creatives.sitelinks
    .map(s => ({
      title: s.title.substring(0, 25),
      description: s.description.substring(0, 35)
    }))
    .slice(0, 4);

  return creatives;
}
```

**ç¤ºä¾‹è¾“å‡º**:
```json
{
  "headlines": [
    "Reolink Security Cameras",
    "5MP HD PoE Camera System",
    "24/7 Home Protection",
    "Shop Reolink Today",
    "Free Shipping Available",
    "2TB Storage Included",
    "Night Vision Up To 100ft",
    "Easy Installation",
    "Best Price Guaranteed",
    "AI Motion Detection",
    "Weatherproof Outdoor Cams",
    "Remote Mobile App Access",
    "Buy Now & Save",
    "Trusted by 1M+ Users",
    "Premium Security Solution"
  ],
  "descriptions": [
    "Get complete home security with 4 HD cameras, 2TB NVR, and 24/7 recording.",
    "Features 5MP resolution, PoE power, night vision, and AI motion detection.",
    "Rated 4.5 stars by 50,000+ customers. 2-year warranty included.",
    "Shop now for the best price. Free shipping on orders over $100. Limited time!"
  ],
  "callouts": [
    "Free 2-Year Warranty",
    "24/7 Customer Support",
    "Easy Setup in Minutes",
    "Mobile App Included"
  ],
  "sitelinks": [
    {
      "title": "Indoor Cameras",
      "description": "Browse our indoor camera models"
    },
    {
      "title": "Outdoor Cameras",
      "description": "Weatherproof outdoor solutions"
    },
    {
      "title": "NVR Systems",
      "title": "Complete NVR recording systems"
    },
    {
      "title": "Accessories",
      "description": "Cables, mounts, and more"
    }
  ]
}
```

---

## å…­ã€Step 6-9: è°ƒç”¨Google Ads APIåˆ›å»ºCampaign

### 6.1 å®Œæ•´APIè°ƒç”¨æµç¨‹

```typescript
async function createGoogleAdsCampaign(
  offer: Offer,
  keywords: KeywordWithMatchType[],
  creatives: AdCreatives,
  budgetSettings: BudgetSettings,
  googleAdsAccountId: string,
  refreshToken: string
): Promise<CampaignCreationResult> {

  // åˆå§‹åŒ–Google Ads APIå®¢æˆ·ç«¯
  const client = new GoogleAdsApi({
    client_id: process.env.GOOGLE_ADS_CLIENT_ID,
    client_secret: process.env.GOOGLE_ADS_CLIENT_SECRET,
    developer_token: process.env.GOOGLE_ADS_DEVELOPER_TOKEN
  });

  const customer = client.Customer({
    customer_id: googleAdsAccountId,
    refresh_token: refreshToken
  });

  try {
    // Step 6: åˆ›å»ºCampaign Budget
    const budgetResourceName = await createCampaignBudget(
      customer,
      offer.offer_name,
      budgetSettings.budget_daily
    );

    // Step 7: åˆ›å»ºCampaign
    const campaignResourceName = await createCampaign(
      customer,
      offer,
      budgetResourceName
    );

    // Step 8: åˆ›å»ºAdGroup
    const adGroupResourceName = await createAdGroup(
      customer,
      offer.offer_name,
      campaignResourceName
    );

    // Step 9a: åˆ›å»ºRSA Ad
    const adResourceName = await createRSAAd(
      customer,
      adGroupResourceName,
      offer.affiliate_link,
      creatives.headlines,
      creatives.descriptions
    );

    // Step 9b: æ·»åŠ Keywords
    await addKeywords(
      customer,
      adGroupResourceName,
      keywords
    );

    // Step 9c: åˆ›å»ºå¹¶å…³è”Assets
    await createAndLinkAssets(
      customer,
      campaignResourceName,
      offer.brand_name,
      creatives.callouts,
      creatives.sitelinks
    );

    // æå–Campaign ID
    const campaignId = campaignResourceName.split('/').pop();

    return {
      success: true,
      campaign_id: campaignId,
      campaign_resource_name: campaignResourceName,
      ad_group_resource_name: adGroupResourceName,
      ad_resource_name: adResourceName,
      keywords_added: keywords.length,
      initial_status: 'PAUSED'
    };

  } catch (error) {
    console.error('Google Ads API Error:', error);
    throw new Error(`Campaign creation failed: ${error.message}`);
  }
}

// Step 6: åˆ›å»ºCampaign Budget
async function createCampaignBudget(
  customer: Customer,
  offerName: string,
  budgetDaily: number
): Promise<string> {

  const budgetOperation = {
    create: {
      name: `${offerName} Budget`,
      amount_micros: budgetDaily * 1_000_000,
      delivery_method: 'STANDARD'
    }
  };

  const response = await customer.campaignBudgets.create([budgetOperation]);
  return response.results[0].resource_name;
}

// Step 7: åˆ›å»ºCampaign
async function createCampaign(
  customer: Customer,
  offer: Offer,
  budgetResourceName: string
): Promise<string> {

  const locationId = getLocationIdByCountry(offer.target_country);
  const languageId = getLanguageIdByLanguage(offer.target_language);

  const campaignOperation = {
    create: {
      name: `${offer.offer_name} Campaign`,
      campaign_budget: budgetResourceName,
      advertising_channel_type: 'SEARCH',
      status: 'PAUSED', // åˆå§‹æš‚åœï¼Œç­‰å¾…ç”¨æˆ·æ¿€æ´»

      // å‡ºä»·ç­–ç•¥: Maximize Conversions
      maximize_conversions: {},

      // ç½‘ç»œè®¾ç½®
      network_settings: {
        target_google_search: true,
        target_search_network: true,
        target_content_network: false,
        target_partner_search_network: false
      },

      // åœ°ç†å®šä½
      geo_target_type_setting: {
        positive_geo_target_type: 'PRESENCE_OR_INTEREST',
        negative_geo_target_type: 'PRESENCE'
      }
    }
  };

  const response = await customer.campaigns.create([campaignOperation]);
  const campaignResourceName = response.results[0].resource_name;

  // æ·»åŠ åœ°ç†ä½ç½®å®šä½
  await customer.campaignCriteria.create([{
    create: {
      campaign: campaignResourceName,
      location: {
        geo_target_constant: `geoTargetConstants/${locationId}`
      }
    }
  }]);

  // æ·»åŠ è¯­è¨€å®šä½
  await customer.campaignCriteria.create([{
    create: {
      campaign: campaignResourceName,
      language: {
        language_constant: `languageConstants/${languageId}`
      }
    }
  }]);

  return campaignResourceName;
}

// Step 8: åˆ›å»ºAdGroup
async function createAdGroup(
  customer: Customer,
  offerName: string,
  campaignResourceName: string
): Promise<string> {

  const adGroupOperation = {
    create: {
      name: `${offerName} AdGroup`,
      campaign: campaignResourceName,
      status: 'ENABLED',
      type: 'SEARCH_STANDARD'
    }
  };

  const response = await customer.adGroups.create([adGroupOperation]);
  return response.results[0].resource_name;
}

// Step 9a: åˆ›å»ºRSA Ad
async function createRSAAd(
  customer: Customer,
  adGroupResourceName: string,
  finalUrl: string,
  headlines: string[],
  descriptions: string[]
): Promise<string> {

  const adOperation = {
    create: {
      ad_group: adGroupResourceName,
      status: 'ENABLED',
      ad: {
        final_urls: [finalUrl],
        responsive_search_ad: {
          headlines: headlines.map(text => ({ text })),
          descriptions: descriptions.map(text => ({ text })),
          path1: 'shop',
          path2: 'deals'
        }
      }
    }
  };

  const response = await customer.adGroupAds.create([adOperation]);
  return response.results[0].resource_name;
}

// Step 9b: æ·»åŠ Keywords
async function addKeywords(
  customer: Customer,
  adGroupResourceName: string,
  keywords: KeywordWithMatchType[]
): Promise<void> {

  const keywordOperations = keywords.map(kw => ({
    create: {
      ad_group: adGroupResourceName,
      status: 'ENABLED',
      keyword: {
        text: kw.keyword,
        match_type: kw.match_type // EXACT | PHRASE | BROAD
      },
      cpc_bid_micros: Math.round(kw.suggested_cpc_micros * 1.1) // å»ºè®®å‡ºä»· Ã— 1.1
    }
  }));

  await customer.adGroupCriteria.create(keywordOperations);
}

// Step 9c: åˆ›å»ºå¹¶å…³è”Assets
async function createAndLinkAssets(
  customer: Customer,
  campaignResourceName: string,
  brandName: string,
  callouts: string[],
  sitelinks: Array<{title: string, description: string}>
): Promise<void> {

  // 1. åˆ›å»ºBusiness Name Asset
  const businessNameAsset = await customer.assets.create([{
    create: {
      name: `${brandName} Business Name`,
      type: 'BUSINESS_NAME',
      business_name_asset: {
        business_name: brandName
      }
    }
  }]);

  // 2. åˆ›å»ºCallout Assets
  const calloutAssets = await Promise.all(
    callouts.map(text =>
      customer.assets.create([{
        create: {
          type: 'CALLOUT',
          callout_asset: { callout_text: text }
        }
      }])
    )
  );

  // 3. åˆ›å»ºSitelink Assets
  const sitelinkAssets = await Promise.all(
    sitelinks.map(link =>
      customer.assets.create([{
        create: {
          type: 'SITELINK',
          sitelink_asset: {
            link_text: link.title,
            description1: link.description,
            final_urls: [finalUrl] // å¯æ ¹æ®å®é™…æƒ…å†µè®¾ç½®ä¸åŒURL
          }
        }
      }])
    )
  );

  // 4. å…³è”Assetsåˆ°Campaign
  const assetLinks = [
    ...businessNameAsset.results.map(r => r.resource_name),
    ...calloutAssets.flatMap(r => r.results.map(a => a.resource_name)),
    ...sitelinkAssets.flatMap(r => r.results.map(a => a.resource_name))
  ];

  await Promise.all(
    assetLinks.map(assetResourceName =>
      customer.campaignAssets.create([{
        create: {
          campaign: campaignResourceName,
          asset: assetResourceName,
          field_type: getAssetFieldType(assetResourceName) // BUSINESS_NAME | CALLOUT | SITELINK
        }
      }])
    )
  );
}
```

---

## ä¸ƒã€å‰ç«¯UIæµç¨‹

### 7.1 ä¸€é”®ä¸Šå¹¿å‘ŠæŒ‰é’®

```tsx
// Offeråˆ—è¡¨é¡µé¢
<OfferCard offer={offer}>
  {offer.ad_status === 'not_launched' && (
    <Button onClick={() => handleLaunchAd(offer.id)}>
      ğŸš€ ä¸€é”®ä¸Šå¹¿å‘Š
    </Button>
  )}

  {offer.ad_status === 'launching' && (
    <LoadingSpinner text="æ­£åœ¨ä¸Šå¹¿å‘Š..." />
  )}

  {offer.ad_status === 'active' && (
    <Badge color="green">å¹¿å‘Šå·²ä¸Šçº¿</Badge>
  )}
</OfferCard>
```

### 7.2 ä¸Šå¹¿å‘Šè¿›åº¦æ˜¾ç¤º

```
ç”¨æˆ·ç‚¹å‡»"ä¸€é”®ä¸Šå¹¿å‘Š"
  â†“
æ˜¾ç¤ºè¿›åº¦å¼¹çª—ï¼š
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸš€ æ­£åœ¨åˆ›å»ºå¹¿å‘Š...                             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ âœ… Step 1: éªŒè¯å‰ç½®æ¡ä»¶                        â”‚
â”‚ âœ… Step 2: AIæŠ“å–äº§å“ä¿¡æ¯ (10ç§’)               â”‚
â”‚ ğŸ”„ Step 3: AIç”Ÿæˆå…³é”®è¯ (20ç§’)                â”‚
â”‚ â³ Step 4: è®¾ç½®é¢„ç®—å’Œå‡ºä»·                      â”‚
â”‚ â³ Step 5: AIç”Ÿæˆå¹¿å‘Šåˆ›æ„                      â”‚
â”‚ â³ Step 6-9: è°ƒç”¨Google Ads API               â”‚
â”‚ â³ Step 10: æ›´æ–°çŠ¶æ€                           â”‚
â”‚                                                â”‚
â”‚ é¢„è®¡å‰©ä½™æ—¶é—´: 40ç§’                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 7.3 åˆ›å»ºæˆåŠŸé¡µé¢

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ âœ… å¹¿å‘Šåˆ›å»ºæˆåŠŸï¼                              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Campaign ID: 123456789                        â”‚
â”‚ Campaignåç§°: Reolink_US_01 Campaign          â”‚
â”‚                                                â”‚
â”‚ ğŸ“Š åˆ›å»ºè¯¦æƒ…:                                   â”‚
â”‚ â€¢ äº§å“åç§°: Reolink 8CH 5MP PoE Security...   â”‚
â”‚ â€¢ å…³é”®è¯æ•°é‡: 15ä¸ª                             â”‚
â”‚ â€¢ Headlinesæ•°é‡: 15æ¡                          â”‚
â”‚ â€¢ Descriptionsæ•°é‡: 4æ¡                        â”‚
â”‚ â€¢ æ¯æ—¥é¢„ç®—: $45.00                             â”‚
â”‚ â€¢ ç›®æ ‡CPC: $1.50                               â”‚
â”‚                                                â”‚
â”‚ âš ï¸ å½“å‰çŠ¶æ€: PAUSEDï¼ˆå·²æš‚åœï¼‰                  â”‚
â”‚                                                â”‚
â”‚ ä¸‹ä¸€æ­¥æ“ä½œ:                                    â”‚
â”‚ 1. åœ¨Google Adsåå°ä¸Šä¼ Logoå’Œå›¾ç‰‡            â”‚
â”‚ 2. æ£€æŸ¥å¹¿å‘Šé¢„è§ˆå¹¶ç¡®è®¤æ— è¯¯                     â”‚
â”‚ 3. ç‚¹å‡»ä¸‹æ–¹æŒ‰é’®æ¿€æ´»å¹¿å‘Š                       â”‚
â”‚                                                â”‚
â”‚ [åœ¨Google Adsä¸­æŸ¥çœ‹]  [æ¿€æ´»å¹¿å‘Š â†’]            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## å…«ã€æ•°æ®åº“æ›´æ–°

### 8.1 æ›´æ–°Offerè¡¨

```sql
UPDATE offers
SET
  product_name = ?,
  product_description = ?,
  category = ?,
  target_keywords = ?,
  budget_daily = ?,
  target_cpc = ?,
  ad_status = 'active',
  google_campaign_id = ?,
  updated_at = datetime('now')
WHERE id = ?;
```

### 8.2 åˆ›å»ºcampaignsè¡¨è®°å½•

```sql
INSERT INTO campaigns (
  user_id,
  offer_id,
  google_campaign_id,
  google_campaign_name,
  campaign_type,
  budget_daily,
  target_cpc,
  target_languages,
  target_locations,
  status,
  google_status,
  created_at,
  updated_at
) VALUES (?, ?, ?, ?, 'SEARCH', ?, ?, ?, ?, 'active', 'PAUSED', datetime('now'), datetime('now'));
```

---

## ä¹ã€é”™è¯¯å¤„ç†

### 9.1 å¸¸è§é”™è¯¯å’Œè§£å†³æ–¹æ¡ˆ

| é”™è¯¯ç±»å‹ | åŸå›  | è§£å†³æ–¹æ¡ˆ |
|---------|------|---------|
| äº§å“ä¿¡æ¯æŠ“å–å¤±è´¥ | ç½‘ç»œè¶…æ—¶ã€é¡µé¢ç»“æ„å˜åŒ– | å…è®¸ç”¨æˆ·æ‰‹åŠ¨è¾“å…¥äº§å“ä¿¡æ¯ |
| å…³é”®è¯æœç´¢é‡è¿‡ä½ | AIç”Ÿæˆçš„å…³é”®è¯å¤ªå†·é—¨ | é‡æ–°ç”Ÿæˆæˆ–æä¾›æ¨èå…³é”®è¯ |
| Google Ads APIé…é¢è¶…é™ | è¯·æ±‚é¢‘ç‡è¿‡é«˜ | é˜Ÿåˆ—åŒ–å¤„ç†ï¼Œå»¶è¿Ÿé‡è¯• |
| Campaignåˆ›å»ºå¤±è´¥ | APIå‚æ•°é”™è¯¯ã€è´¦å·æƒé™ä¸è¶³ | æ˜¾ç¤ºè¯¦ç»†é”™è¯¯ä¿¡æ¯ï¼Œå¼•å¯¼ç”¨æˆ·ä¿®æ­£ |
| Tokenè¿‡æœŸ | OAuth refresh tokenå¤±æ•ˆ | å¼•å¯¼ç”¨æˆ·é‡æ–°æˆæƒ |

---

## åã€æ€»ç»“

### 10.1 æ ¸å¿ƒä¼˜åŠ¿

| ä¼˜åŠ¿ | è¯´æ˜ |
|------|------|
| **æè‡´è‡ªåŠ¨åŒ–** | 99%çš„å·¥ä½œç”±AIå’ŒAPIå®Œæˆ |
| **æ•°æ®é©±åŠ¨** | åŸºäºGoogle AdsçœŸå®æ•°æ®è®¾ç½®é¢„ç®—å’Œå‡ºä»· |
| **é«˜è´¨é‡åˆ›æ„** | AIç”Ÿæˆä¸“ä¸šå¹¿å‘Šæ–‡æ¡ˆ |
| **å¿«é€Ÿä¸Šçº¿** | 50ç§’å†…å®Œæˆä»Offeråˆ°Campaign |
| **é™ä½é—¨æ§›** | æ— éœ€ä¸“ä¸šçŸ¥è¯†å³å¯æŠ•æ”¾Google Ads |

### 10.2 å®æ–½è®¡åˆ’

- [ ] AIäº§å“ä¿¡æ¯æŠ“å–ï¼ˆPlaywright + Proxyï¼‰: 6-8å°æ—¶
- [ ] AIå…³é”®è¯ç”Ÿæˆå’ŒéªŒè¯: 4-6å°æ—¶
- [ ] AIå¹¿å‘Šåˆ›æ„ç”Ÿæˆ: 3-4å°æ—¶
- [ ] Google Ads APIé›†æˆ: 8-10å°æ—¶
- [ ] å‰ç«¯UIå’Œè¿›åº¦æ˜¾ç¤º: 4-6å°æ—¶
- [ ] æµ‹è¯•å’Œä¼˜åŒ–: 6-8å°æ—¶
- **æ€»è®¡**: 31-42å°æ—¶

---

**ä¸‹ä¸€æ­¥**: å®æ–½æœ¬æ–‡æ¡£å®šä¹‰çš„"ä¸€é”®ä¸Šå¹¿å‘Š"åŠŸèƒ½
