# 需求1-5手动测试指南

**测试时间**: 2025-11-18
**测试环境**: http://localhost:3001
**测试账号**: autoads / K$j6z!9Tq@P2w#aR

---

## 🎯 测试准备

1. ✅ 服务器已启动：http://localhost:3001
2. ✅ 数据库已就绪：./data/autoads.db
3. ✅ 环境变量已配置：Gemini API Key、代理IP等

---

## 📝 测试用例执行清单

### 测试1：用户登录 ✅

**步骤**：
1. 访问 http://localhost:3001/login
2. 输入用户名：`autoads`
3. 输入密码：`K$j6z!9Tq@P2w#aR`
4. 点击登录按钮

**预期结果**：
- ✅ 成功跳转到 Dashboard 页面
- ✅ 显示用户信息

**实际结果**：
- [ ] 通过
- [ ] 失败，原因：_________________

---

### 测试2：需求1 - 创建Offer并验证自动生成字段 ✅

**测试数据**：
- 品牌名称：`Reolink`
- 推广国家：`美国US`
- 商品URL：`https://www.amazon.com/stores/page/201E3A4F-C63F-48A6-87B7-524F985330DA`

**步骤**：
1. 访问 http://localhost:3001/offers/new
2. 填写品牌名称：`Reolink`
3. 选择推广国家：`美国US`
4. **观察实时预览**：
   - Offer标识应显示：`Reolink_US_01`（或 `Reolink_US_02`，取决于已有数量）
   - 推广语言应显示：`English`
5. 填写商品URL（复制上面的链接）
6. 点击"创建Offer"

**预期结果**：
- ✅ Offer标识自动生成格式正确：`品牌_国家_序号`
- ✅ 推广语言自动映射正确：`English`
- ✅ 成功创建Offer，跳转到详情页或列表页

**验证点**：
- [ ] Offer标识格式正确
- [ ] 推广语言为English
- [ ] 创建成功

**实际结果**：
- Offer标识：___________________
- 推广语言：___________________
- 创建状态：[ ] 成功 / [ ] 失败

---

### 测试3：需求5 - 语言自动映射 ✅

**测试数据**：
| 国家 | 预期语言 |
|------|----------|
| 德国(DE) | German |
| 日本(JP) | Japanese |
| 法国(FR) | French |

**步骤**：
1. 访问 http://localhost:3001/offers/new
2. 填写品牌名称：`ITEHIL`
3. 依次选择不同国家，观察推广语言变化：
   - 选择`德国DE` → 应显示`German`
   - 选择`日本JP` → 应显示`Japanese`
   - 选择`法国FR` → 应显示`French`
4. 最终选择`德国DE`，填写URL：`https://itehil.com/`
5. 点击创建

**预期结果**：
- ✅ 德国DE → German
- ✅ 日本JP → Japanese
- ✅ 法国FR → French

**验证点**：
- [ ] 德国语言映射正确
- [ ] 日本语言映射正确
- [ ] 法国语言映射正确

**实际结果**：
- 德国DE → ___________________
- 日本JP → ___________________
- 法国FR → ___________________

---

### 测试4：需求2 - Offer列表与操作按钮 ✅

**步骤**：
1. 访问 http://localhost:3001/offers
2. 观察列表显示的字段
3. 检查每个Offer的操作按钮

**预期结果**：
- ✅ 列表显示：Offer标识、品牌名称、推广国家、推广语言、状态
- ✅ 操作按钮包括：
  - 一键上广告（蓝色按钮，火箭图标）
  - 一键调整CPC（白色按钮，美元图标）
  - 查看详情（白色按钮）

**验证点**：
- [ ] Offer标识列正确显示
- [ ] 品牌名称列正确显示
- [ ] 推广国家列正确显示
- [ ] 推广语言列正确显示
- [ ] "一键上广告"按钮可见
- [ ] "一键调整CPC"按钮可见
- [ ] "查看详情"按钮可见

**实际结果**：
- [ ] 全部通过
- [ ] 部分失败，详情：_________________

---

### 测试5：需求3 - 一键上广告弹窗 ✅

**步骤**：
1. 在Offer列表页，点击第一个Offer的"一键上广告"按钮
2. 观察弹窗内容

**预期结果**：
- ✅ 弹窗成功打开
- ✅ 显示多步骤流程指示器
- ✅ Step 1: 广告变体选择（1-3个变体）
- ✅ 显示Offer基本信息（品牌、国家、语言）

**验证点**：
- [ ] 弹窗正常打开
- [ ] 显示步骤指示器（如：步骤1/4）
- [ ] 显示广告变体选择选项
- [ ] 显示Offer信息

**实际结果**：
- [ ] 全部通过
- [ ] 部分失败，详情：_________________

**请截图保存**：保存为 `test-results/manual-01-launch-ad-modal.png`

---

### 测试6：需求3 - 验证默认参数（需求14） ✅

**步骤**：
1. 在"一键上广告"弹窗中，点击"下一步"进入广告系列设置
2. 观察默认值

**预期默认值**：
- Objective: `Website traffic`
- Conversion Goals: `Page views`
- Campaign Type: `Search`
- Bidding Strategy: `Maximize clicks`
- Maximum CPC bid limit: `¥1.2` 或 `$0.17`
- Daily Budget: `¥100` 或 `$100`
- EU Political Ads: `No`

**验证点**：
- [ ] Objective默认值正确
- [ ] Bidding Strategy默认值正确
- [ ] Maximum CPC默认值正确
- [ ] Daily Budget默认值正确

**实际结果**：
- Objective: ___________________
- Bidding Strategy: ___________________
- Maximum CPC: ___________________
- Daily Budget: ___________________

**请截图保存**：保存为 `test-results/manual-02-default-settings.png`

---

### 测试7：需求4b - AI创意生成（真实Gemini API） ✅

**重要说明**：这个测试会调用真实的Gemini API！

**步骤**：
1. 在"一键上广告"弹窗中，继续点击"下一步"
2. 到达创意生成步骤
3. 选择广告导向（如：brand/product/promo）
4. 点击"生成创意"按钮
5. **等待10-30秒**，观察AI生成结果

**预期结果**：
- ✅ 调用真实Gemini API
- ✅ 生成3条标题（Headlines）
- ✅ 生成2条描述（Descriptions）
- ✅ 生成4条宣传信息（Callouts）
- ✅ 生成4个附加链接（Sitelinks）
- ✅ 显示质量评分（0-100分）

**验证点**：
- [ ] API调用成功（无错误提示）
- [ ] 生成3条标题
- [ ] 生成2条描述
- [ ] 生成4条宣传信息
- [ ] 生成4个附加链接
- [ ] 显示质量评分

**实际结果**：
- API调用状态：[ ] 成功 / [ ] 失败
- 如果失败，错误信息：_________________
- 标题数量：_________________
- 描述数量：_________________
- 质量评分：_________________

**请截图保存**：
- API调用前：`test-results/manual-03-before-ai-generate.png`
- API调用后：`test-results/manual-04-after-ai-generate.png`

---

### 测试8：需求4c - 网站数据抓取（真实代理IP） ✅

**重要说明**：这个测试会使用真实代理IP访问网站！

**测试方式**：
由于数据抓取是后台自动进行的，我们需要通过查看Offer详情来验证。

**步骤**：
1. 回到Offer列表页
2. 点击第一个Offer的"查看详情"
3. 观察"店铺/产品描述"字段
4. 检查抓取状态

**预期结果**：
- ✅ 抓取状态显示为：`已完成` 或 `抓取中` 或 `失败`
- ✅ 如果成功，应显示：
  - 品牌描述
  - 独特卖点
  - 产品亮点
  - 目标受众

**验证点**：
- [ ] 显示抓取状态
- [ ] 数据已抓取成功
- [ ] 显示品牌描述
- [ ] 显示产品信息

**实际结果**：
- 抓取状态：___________________
- 是否使用代理：[ ] 是 / [ ] 否（查看控制台日志）
- 数据完整性：[ ] 完整 / [ ] 部分 / [ ] 无

**请截图保存**：`test-results/manual-05-scraped-data.png`

---

### 测试9：需求17 - 创意重新生成 ✅

**步骤**：
1. 在AI创意生成页面，如果对某个创意不满意
2. 点击"重新生成"按钮
3. 观察新生成的创意

**预期结果**：
- ✅ 再次调用Gemini API
- ✅ 生成不同的创意内容
- ✅ 保持字符长度限制
- ✅ 更新质量评分

**验证点**：
- [ ] 重新生成功能可用
- [ ] 生成了不同的内容
- [ ] 质量评分有变化

**实际结果**：
- 重新生成次数：___________________
- 内容是否不同：[ ] 是 / [ ] 否
- 新的质量评分：___________________

---

## 📊 测试结果汇总

### 通过/失败统计

| 测试项 | 状态 | 备注 |
|--------|------|------|
| 测试1：登录 | [ ] PASS / [ ] FAIL | |
| 测试2：需求1 - Offer创建 | [ ] PASS / [ ] FAIL | |
| 测试3：需求5 - 语言映射 | [ ] PASS / [ ] FAIL | |
| 测试4：需求2 - 列表显示 | [ ] PASS / [ ] FAIL | |
| 测试5：需求3 - 弹窗显示 | [ ] PASS / [ ] FAIL | |
| 测试6：需求14 - 默认参数 | [ ] PASS / [ ] FAIL | |
| 测试7：需求4b - AI创意 | [ ] PASS / [ ] FAIL | |
| 测试8：需求4c - 数据抓取 | [ ] PASS / [ ] FAIL | |
| 测试9：需求17 - 重新生成 | [ ] PASS / [ ] FAIL | |

### 总体通过率

- 通过数量：_____ / 9
- 通过率：_____ %

---

## 🐛 发现的问题

### 问题1
- **严重程度**：[ ] 严重 / [ ] 中等 / [ ] 轻微
- **描述**：
- **重现步骤**：
- **预期行为**：
- **实际行为**：

### 问题2
- **严重程度**：[ ] 严重 / [ ] 中等 / [ ] 轻微
- **描述**：
- **重现步骤**：
- **预期行为**：
- **实际行为**：

---

## 💡 测试建议

### Gemini API测试注意事项
1. 确保网络连接正常
2. 如果API调用失败，检查：
   - API Key是否有效
   - 是否有API配额
   - 网络防火墙设置

### 代理IP测试注意事项
1. 检查代理URL是否可访问
2. 观察浏览器控制台的日志输出
3. 如果代理失败，系统应该降级为直连

### 截图位置
所有截图保存到：`/Users/jason/Documents/Kiro/autobb/test-results/`

---

## ✅ 测试完成检查清单

- [ ] 所有9个测试用例已执行
- [ ] 所有截图已保存
- [ ] 问题已记录
- [ ] 测试结果汇总已填写
- [ ] 准备好与开发人员沟通测试结果

---

**测试人员签名**：___________________
**测试完成时间**：___________________
